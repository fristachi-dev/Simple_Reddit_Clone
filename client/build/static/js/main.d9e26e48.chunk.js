(this.webpackJsonpthreddit=this.webpackJsonpthreddit||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(27),s=a.n(n),r=(a(71),a(8)),o=a(16),l=(a(17),a(18),a(2)),i=function(e){var t=e.check;return Object(l.jsx)("div",{style:{lineHeight:"40px"},onClick:function(){localStorage.setItem("token",""),localStorage.setItem("user",!1),t()},children:"Sign Out"})},j=a(113),d=a(106),u=a(110),b=a(112),h=a(33),m=a(48),x=a.n(m),p=function(e){var t=e.check,a=e.changeSub,n=e.drop,s=e.theme,m=e.darkmode,p=Object(c.useState)(localStorage.getItem("sub")),O=Object(r.a)(p,2),g=O[0],f=O[1];return Object(l.jsx)(j.a,{fixed:"top",expand:"sm",className:m?"theme-dark-grey":"bg-white",children:Object(l.jsxs)(d.a,{className:"p-0 align-items-start",children:[Object(l.jsx)(j.a.Brand,{className:"d-none d-sm-block p-0",as:o.b,to:"/",style:{fontWeight:"400",fontSize:"26px"},children:"Threadit"}),n?Object(l.jsxs)(u.a,{title:g,id:"nav-dropdown",className:"nav-highlight",children:[Object(l.jsx)(u.a.Item,{onClick:function(){a("Home"),f("Home")},children:"Home"}),Object(l.jsx)(u.a.Item,{onClick:function(){a("General"),f("General")},children:"General"}),Object(l.jsx)(u.a.Divider,{}),Object(l.jsx)(u.a.Item,{onClick:function(){a("Technology"),f("Technology")},children:"Technology"}),Object(l.jsx)(u.a.Item,{onClick:function(){a("World News"),f("World News")},children:"World News"}),Object(l.jsx)(u.a.Item,{onClick:function(){a("Video Games"),f("Video Games")},children:"Video Games"}),Object(l.jsx)(u.a.Item,{onClick:function(){a("Sports"),f("Sports")},children:"Sports"})]}):"",Object(l.jsxs)(b.a,{className:"flex-row",children:[Object(l.jsx)(b.a.Item,{children:Object(l.jsx)(b.a.Link,{className:"p-0 mr-3",as:o.b,to:"/",children:Object(l.jsx)(h.b,{size:38})})}),Object(l.jsxs)(b.a,{style:{maxWidth:"200px"},children:[Object(l.jsx)(b.a.Item,{className:"mr-2 d-none d-sm-block",children:Object(l.jsx)(x.a,{onChange:s,checked:m,onlabel:"Dark",offlabel:"Light",width:80,height:30})}),Object(l.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav",className:m?"theme-dark-grey":"bg-white"}),Object(l.jsxs)(j.a.Collapse,{className:m?"theme-dark-grey":"bg-white",id:"basic-navbar-nav",style:{maxWidth:"200px"},children:[Object(l.jsx)(b.a.Item,{className:"d-block d-sm-none",as:o.b,to:"/UpdateUser",style:{lineHeight:"40px"},children:"Settings"}),Object(l.jsx)(b.a.Item,{className:"d-block d-sm-none",children:Object(l.jsx)(i,{check:t})}),Object(l.jsx)(b.a.Item,{className:"mr-2 d-block d-sm-none",children:Object(l.jsx)(x.a,{onChange:s,checked:m,onlabel:"Dark",offlabel:"Light",width:80,height:30})})]}),Object(l.jsxs)(u.a,{className:"nav-highlight d-none d-sm-block",title:localStorage.getItem("user"),id:"nav-dropdown",children:[Object(l.jsx)(u.a.Item,{as:o.b,to:"/UpdateUser",style:{lineHeight:"40px"},children:"Settings"}),Object(l.jsx)(u.a.Item,{eventKey:"2.1",children:Object(l.jsx)(i,{check:t})})]})]})]})]})})},O=a(9),g=a.n(O),f=a(10),k=a(12),v=a(11),N=a.n(v),y=a(107),S=a(65),w=a(111),I=a(108),C=a(64),T=a(109),z=function(e){var t=e.check,a=e.theme,n=e.darkmode,s=Object(c.useState)(""),o=Object(r.a)(s,2),i=(o[0],o[1]),j=Object(c.useState)(!1),u=Object(r.a)(j,2),b=u[0],m=u[1],x=Object(c.useState)(""),O=Object(r.a)(x,2),k=O[0],v=O[1],z=Object(c.useState)(""),D=Object(r.a)(z,2),L=D[0],P=D[1],U=Object(c.useState)(""),H=Object(r.a)(U,2),W=H[0],G=H[1],F=Object(c.useState)(""),_=Object(r.a)(F,2),E=_[0],A=_[1],B=function(e){if(localStorage.getItem("user")){var t=e.map((function(e){return e.username})).indexOf(localStorage.getItem("user"));v(e[t].username),P(e[t].firstName),G(e[t].lastName),A(e[t].email)}else console.log(localStorage.getItem("user"))},V=function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:5000/users/").then((function(e){i(e.data),B(e.data)}));case 3:e.sent,m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){V()}),[]);var M=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={user:k,fname:L,lname:W,email:E},console.log(a),e.next=5,N.a.post("http://localhost:5000/users/update",a,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){V()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(d.a,{fluid:!0,className:"p-0 pb-5 d-flex align-items-center "+(n?"theme-dark":"bg-primary"),style:{minHeight:"100vh"},children:[Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{children:Object(l.jsx)(p,{drop:!1,check:t,darkmode:n,theme:a})})}),Object(l.jsx)(y.a,{className:"d-flex justify-content-center w-100 m-0",children:Object(l.jsx)(S.a,{className:"p-0",style:{maxWidth:"550px"},children:b?Object(l.jsxs)(w.a,{onSubmit:M,className:"px-3 py-5 px-sm-5 "+(n?"theme-dark-grey":"bg-light"),children:[Object(l.jsx)("h2",{className:"mb-4",children:"Update user info"}),Object(l.jsx)(w.a.Label,{className:"mt-2",children:"First Name"}),Object(l.jsxs)(I.a,{className:"mb-2",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0",style:{backgroundColor:"#1484D6",color:"white"},id:"basic-addon1",children:Object(l.jsx)(h.a,{size:24})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"text",name:L,value:L,onChange:function(e){P(e.target.value)}})]}),Object(l.jsx)(w.a.Label,{className:"mt-2",children:"Last Name"}),Object(l.jsxs)(I.a,{className:"mb-2",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0",style:{backgroundColor:"#1484D6",color:"white"},id:"basic-addon1",children:Object(l.jsx)(h.a,{size:24})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"text",name:W,value:W,onChange:function(e){G(e.target.value)}})]}),Object(l.jsx)(w.a.Label,{className:"mt-2",children:"Email"}),Object(l.jsxs)(I.a,{className:"mb-2",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0",style:{backgroundColor:"#1484D6",color:"white"},id:"basic-addon1",children:Object(l.jsx)(h.a,{size:24})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"text",name:E,value:E,onChange:function(e){A(e.target.value)}})]}),Object(l.jsx)(C.a,{className:"mt-5 rounded-0",type:"submit",block:!0,children:"Change"})]}):Object(l.jsx)(T.a,{animation:"border"})})})]})},D=(a(51),a(34)),L=function(e){var t=e.postid,a=e.username,c=e.post,n=e.date,s=e.likes,r=e.comments,i=e.getdata,j=e.postTitle,u=e.postSubject,b=e.visible,h=(e.theme,e.darkmode),m=function(){var e=Object(f.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={postid:t,user:a,current:localStorage.getItem("user")},e.next=3,N.a.post("http://localhost:5000/users/upvote",c,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){i()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={postid:t,user:a,current:localStorage.getItem("user")},e.next=3,N.a.post("http://localhost:5000/users/downvote",c,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){i()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"w-100",children:b?Object(l.jsx)(d.a,{className:"mt-3",children:Object(l.jsx)(y.a,{className:"justify-content-center",children:Object(l.jsx)(S.a,{xs:12,lg:12,className:"border rounded "+(h?"theme-dark-grey border-warning border-highlight-dark":"bg-white border-info border-highlight"),children:Object(l.jsxs)(y.a,{className:"d-flex align-items-center justify-content-center",children:[Object(l.jsxs)(S.a,{xs:2,md:1,lg:1,children:[Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center",children:Object(l.jsx)(D.b,{className:"arrow",size:24,onClick:function(){return m(t)}})})}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center pt-2 text-center",children:Object(l.jsx)("h5",{style:{userSelect:"none"},children:s})})}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center",children:Object(l.jsx)(D.a,{className:"arrow",size:24,onClick:function(){return x(t)}})})})]}),Object(l.jsx)(S.a,{className:"pl-0",children:Object(l.jsxs)(o.b,{className:"text-decoration-none",to:{pathname:"/thread/".concat(t),state:{id:t}},children:[Object(l.jsxs)(y.a,{children:[Object(l.jsx)(S.a,{xs:4,md:3,xl:2,className:"d-flex align-items-center justify-content-center pl-4 pr-0 pt-2",children:Object(l.jsx)("p",{className:"fit mb-0 border rounded-pill text-white text-center ".concat(u.replace(/\s+/g,"")),style:{fontSize:"15px"},children:u})}),Object(l.jsx)(S.a,{className:"p-0 pl-3",children:Object(l.jsxs)("p",{className:"mt-3 mb-0",children:["Posted by ".concat(a),Object(l.jsx)("span",{className:"ml-3 text-dark",style:{fontSize:"14px"},children:function(e){var t=new Date(e),a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n),c<10&&(c="0"+c),"".concat(n,"-").concat(c,"-").concat(a)}(n)})]})})]}),Object(l.jsx)("h5",{className:"my-2",style:{fontSize:"19px"},children:"".concat(j.substring(0,200))}),Object(l.jsx)("p",{className:"my-2 text-dark",style:{fontSize:"15px"},children:"".concat(c.substring(0,300),"...")}),Object(l.jsxs)("p",{children:[r.length," Comments"]})]})})]})})})}):""})},P=a(66),U=function(e){var t=e.getdata,a=e.darkmode,n=Object(c.useState)(""),s=Object(r.a)(n,2),o=s[0],i=s[1],j=Object(c.useState)(""),u=Object(r.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(""),x=Object(r.a)(m,2),p=x[0],O=x[1],k=Object(c.useState)(!1),v=Object(r.a)(k,2),I=v[0],T=v[1],z=function(){var e=Object(f.a)(g.a.mark((function e(a){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={username:localStorage.getItem("user"),postTitle:b,postSubject:p,post:o},console.log(c),e.next=5,N.a.post("http://localhost:5000/users/newpost",c,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){t()}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(d.a,{children:Object(l.jsx)(y.a,{className:"justify-content-center",children:Object(l.jsx)(S.a,{xs:12,lg:12,className:"border border-info rounded pt-4 pb-3 "+(a?"theme-dark-grey border-warning":"bg-white"),children:Object(l.jsxs)(w.a,{onSubmit:z,onFocus:function(){return T(!I)},onBlur:function(){return T(!I)},children:[Object(l.jsx)(w.a.Group,{children:Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{xs:12,children:Object(l.jsx)(w.a.Control,{type:"text",name:b,className:a?"":"form-highlight",onChange:function(e){h(e.target.value)},placeholder:"Create A Post Title...",maxLength:"200",style:{backgroundColor:"#f6f7f8"}})})})}),Object(l.jsx)(P.a,{in:I,children:Object(l.jsxs)(w.a.Group,{children:[Object(l.jsx)(w.a.Control,{type:"text",name:o,onChange:function(e){i(e.target.value)},placeholder:"Text Body...",as:"textarea",rows:3,maxLength:"3000"}),Object(l.jsx)(y.a,{className:"pt-3",children:Object(l.jsx)(S.a,{children:Object(l.jsx)(w.a.Label,{children:"Post Topic"})})}),Object(l.jsxs)(y.a,{children:[Object(l.jsx)(S.a,{xs:6,children:Object(l.jsxs)(w.a.Control,{style:{maxWidth:"150px"},as:"select",onChange:function(e){O(e.target.value)},children:[Object(l.jsx)("option",{value:"General",children:"General"}),Object(l.jsx)("option",{value:"Technology",children:"Technology"}),Object(l.jsx)("option",{value:"World News",children:"World News"}),Object(l.jsx)("option",{value:"Video Games",children:"Video Games"}),Object(l.jsx)("option",{value:"Sports",children:"Sports"})]})}),Object(l.jsx)(S.a,{className:"pr-sm-5",children:Object(l.jsx)(C.a,{type:"submit",className:"rounded-pill float-right",children:"Create New Post"})})]})]})})]})})})})},H=function(e){var t=e.check,a=e.theme,n=e.darkmode,s=Object(c.useState)(0),o=Object(r.a)(s,2),i=o[0],j=o[1],u=Object(c.useState)(!1),b=Object(r.a)(u,2),h=b[0],m=b[1],x=Object(c.useState)(localStorage.getItem("sub")),O=Object(r.a)(x,2),k=O[0],v=O[1],w=function(e){for(var t=[],a=0;a<e.length;a++)for(var c=0;c<e[a].posts.length;c++)t.push(e[a].posts[c]);return t.sort((function(e,t){return e.likes>t.likes?-1:t.likes>e.likes?1:0})),t},I=function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:5000/users/").then((function(e){console.log("yeet"),j(w(e.data))}));case 3:e.sent,m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){I()}),[]),Object(l.jsxs)(d.a,{className:"mt-4 pt-2 pb-5",style:{minHeight:"100vh"},children:[Object(l.jsx)(p,{changeSub:function(e){localStorage.setItem("sub",e),v(e)},check:t,drop:!0,theme:a,darkmode:n}),h?Object(l.jsx)(y.a,{className:"justify-content-md-center",children:Object(l.jsxs)(S.a,{children:[Object(l.jsx)(y.a,{className:"mt-5",children:Object(l.jsx)(U,{getdata:I,darkmode:n})}),Object(l.jsx)(y.a,{children:i.map((function(e){return Object(l.jsx)(L,{postid:e._id,username:e.username,postTitle:e.postTitle,postSubject:e.postSubject,post:e.post,date:e.date,comments:e.comments,likes:e.votes,getdata:I,theme:a,darkmode:n,visible:"Home"==k||k==e.postSubject},"post"+e._id)}))})]})}):Object(l.jsx)(T.a,{animation:"border"})]})},W=a(43),G=a(44),F=function(e){e.check;var t=Object(c.useState)(""),a=Object(r.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(""),j=Object(r.a)(i,2),u=j[0],b=j[1],h=Object(c.useState)(""),m=Object(r.a)(h,2),x=m[0],p=m[1],O=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:n,password:u},console.log(a),e.next=5,N.a.post("http://localhost:5000/users/signup",a).then((function(e){"User already exist"==e.data.msg?p(e.data.msg):(localStorage.setItem("token",e.data.token),localStorage.setItem("user",e.data.user.username),window.location.reload())}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(d.a,{fluid:!0,className:"bg-primary p-0 pb-5 d-flex align-items-center",style:{minHeight:"100vh"},children:Object(l.jsx)(y.a,{className:"d-flex justify-content-center w-100 m-0",children:Object(l.jsx)(S.a,{className:"p-0",style:{maxWidth:"600px"},children:Object(l.jsxs)(w.a,{onSubmit:O,className:"bg-light px-3 py-5 px-sm-5",children:[Object(l.jsx)("h2",{className:"mb-4",children:"Sign Up"}),Object(l.jsx)(w.a.Label,{children:"Username"}),Object(l.jsxs)(I.a,{className:"mb-4",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0 bg-primary text-white",id:"basic-addon1",children:Object(l.jsx)(W.a,{size:20})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"text",name:n,onChange:function(e){s(e.target.value)}})]}),Object(l.jsx)(w.a.Label,{className:"mt-2",children:"Password"}),Object(l.jsxs)(I.a,{className:"mb-4",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0 bg-primary text-white",id:"basic-addon1",children:Object(l.jsx)(G.a,{size:20})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"password",name:u,onChange:function(e){b(e.target.value)}})]}),Object(l.jsx)("p",{children:x}),Object(l.jsx)(C.a,{className:"mt-1 mb-3 rounded-0",type:"submit",block:!0,children:"Sign Up"}),Object(l.jsx)(o.b,{to:"/SignIn",children:"Already have an Account? Login Here!"})]})})})})},_=function(e){var t=e.check,a=Object(c.useState)(""),n=Object(r.a)(a,2),s=n[0],i=n[1],j=Object(c.useState)(""),u=Object(r.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(""),x=Object(r.a)(m,2),p=x[0],O=x[1],k=function(){var e=Object(f.a)(g.a.mark((function e(a){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={username:s,password:b},console.log(c),e.next=5,N.a.post("http://localhost:5000/users/signin",c).then((function(e){"user does not exist"==e.data.msg||"wrong password"==e.data.msg?O(e.data.msg):(localStorage.setItem("token",e.data.token),localStorage.setItem("user",e.data.user.username)),t()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(d.a,{className:"bg-primary p-0 pb-5 d-flex align-items-center",style:{minHeight:"100vh"},fluid:!0,children:Object(l.jsx)(y.a,{className:"d-flex justify-content-center w-100 m-0",children:Object(l.jsx)(S.a,{className:"p-0",style:{maxWidth:"600px"},children:Object(l.jsxs)(w.a,{onSubmit:k,className:"bg-light px-3 py-5 px-sm-5",children:[Object(l.jsx)("h2",{className:"mb-4",children:"Sign In"}),Object(l.jsx)(w.a.Label,{children:"Username"}),Object(l.jsxs)(I.a,{className:"mb-4",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0 bg-primary text-white",id:"basic-addon1",children:Object(l.jsx)(W.a,{size:20})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"text",name:s,onChange:function(e){i(e.target.value)}})]}),Object(l.jsx)(w.a.Label,{className:"mt-2",children:"Password"}),Object(l.jsxs)(I.a,{className:"mb-4",children:[Object(l.jsx)(I.a.Prepend,{children:Object(l.jsx)(I.a.Text,{className:"rounded-0 bg-primary text-white",id:"basic-addon1",children:Object(l.jsx)(G.a,{size:20})})}),Object(l.jsx)(w.a.Control,{className:"rounded-0",type:"password",name:b,onChange:function(e){h(e.target.value)}})]}),Object(l.jsx)("p",{children:p}),Object(l.jsx)(C.a,{className:"mt-1 mb-3 rounded-0",type:"submit",block:!0,children:"Sign In"}),Object(l.jsx)(o.b,{to:"/SignUp",children:"Don't have an Account? Sign Up Here!"})]})})})})},E=function(e){var t=e.username,a=e.date,c=e.comment,n=e.darkmode;return Object(l.jsx)(d.a,{className:"border border-light rounded p-3 my-3 "+(n?"theme-dark-grey":"bg-light"),children:Object(l.jsx)(y.a,{children:Object(l.jsxs)(S.a,{children:[Object(l.jsx)("span",{style:{fontWeight:"500",fontSize:"18px"},children:t}),Object(l.jsx)("span",{className:"ml-2",style:{fontSize:"12px",color:"#777"},children:function(e){var t=new Date(e),a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n),c<10&&(c="0"+c),"".concat(n,"-").concat(c,"-").concat(a)}(a)}),Object(l.jsx)("p",{className:"mx-1 my-2",children:c})]})})})},A=function(e){var t=e.username,a=e.post,n=e.getdata,s=e.darkmode,o=Object(c.useState)(""),i=Object(r.a)(o,2),j=i[0],u=i[1],b=function(){var e=Object(f.a)(g.a.mark((function e(c){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s={user:t,post:a,commentuser:localStorage.getItem("user"),comment:j},console.log(s),e.next=5,N.a.post("http://localhost:5000/users/newcomment",s,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){n()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(d.a,{className:"mt-4",children:Object(l.jsx)(y.a,{className:"d-flex align-items-center justify-content-center",children:Object(l.jsx)(S.a,{xs:12,sm:11,md:10,children:Object(l.jsxs)(w.a,{onSubmit:b,children:[Object(l.jsxs)(w.a.Group,{children:[Object(l.jsx)(w.a.Label,{children:"Comment as ".concat(localStorage.getItem("user"))}),Object(l.jsx)(w.a.Control,{type:"text",name:j,onChange:function(e){u(e.target.value)},placeholder:"What are your thoughts?",as:"textarea",rows:3,maxLength:"3000",className:s?"theme-dark-grey":"bg-white"})]}),Object(l.jsx)(C.a,{type:"submit",className:"rounded-pill float-right",children:"Comment"})]})})})})},B=function(e){var t=e.check,a=e.theme,n=e.darkmode,s=Object(c.useState)(0),o=Object(r.a)(s,2),i=o[0],j=o[1],u=Object(c.useState)(!1),b=Object(r.a)(u,2),h=b[0],m=b[1],x=Object(k.g)(),O=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={postid:i._id,user:i.username,current:localStorage.getItem("user")},console.log(a),e.prev=2,e.next=5,N.a.post("http://localhost:5000/users/upvote",a,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){C()}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={postid:i._id,user:i.username,current:localStorage.getItem("user")},e.prev=1,e.next=4,N.a.post("http://localhost:5000/users/downvote",a,{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(e){C()}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){for(var t=[],a=0;a<e.length;a++)for(var c=0;c<e[a].posts.length;c++)t.push(e[a].posts[c]);return t},I=function(e,t){var a=e.map((function(e){return e._id})).indexOf(t);return e[a]},C=function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:5000/users/").then((function(e){var t=w(e.data);j(I(t,x.state.id))}));case 3:e.sent,m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){C()}),[]),Object(l.jsxs)(d.a,{style:{minHeight:"calc(100vh)"},children:[Object(l.jsx)(p,{drop:!1,check:t,theme:a,darkmode:n}),Object(l.jsx)(y.a,{className:"justify-content-md-center mt-5 pt-5",children:Object(l.jsx)(S.a,{className:"border border-info rounded "+(n?"theme-dark-grey border-warning":"bg-white"),children:h?Object(l.jsxs)("div",{children:[Object(l.jsxs)(y.a,{className:"d-flex align-items-center justify-content-center",children:[Object(l.jsxs)(S.a,{xs:2,md:1,lg:1,children:[Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center",children:Object(l.jsx)(D.b,{className:"arrow",size:24,onClick:function(){return O(i.id)}})})}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center pt-2 text-center",children:Object(l.jsx)("h5",{children:i.votes})})}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{className:"d-flex justify-content-center",children:Object(l.jsx)(D.a,{className:"arrow",size:24,onClick:function(){return v(i.id)}})})})]}),Object(l.jsxs)(S.a,{className:"pl-0",children:[Object(l.jsxs)(y.a,{className:"mt-3",children:[Object(l.jsx)(S.a,{xs:4,md:3,xl:2,className:"d-flex align-items-center justify-content-center pl-4 pr-0 pt-2",children:Object(l.jsx)("p",{className:"fit mb-0 border rounded-pill text-white text-center ".concat(i.postSubject.replace(/\s+/g,"")),style:{fontSize:"15px"},children:i.postSubject})}),Object(l.jsx)(S.a,{className:"p-0 pl-3",children:Object(l.jsxs)("p",{className:"mt-3 mb-0",children:["Posted by ".concat(i.username),Object(l.jsx)("span",{className:"ml-3 text-dark",style:{fontSize:"14px"},children:function(e){var t=new Date(e),a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n),c<10&&(c="0"+c),"".concat(n,"-").concat(c,"-").concat(a)}(i.date)})]})})]}),Object(l.jsx)(y.a,{children:Object(l.jsxs)(S.a,{children:[" ",Object(l.jsx)("h5",{className:"my-2",style:{fontSize:"19px"},children:i.postTitle}),Object(l.jsx)("p",{className:"my-2 text-dark",style:{fontSize:"15px"},children:i.post})]})})]})]}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{children:Object(l.jsx)(A,{username:i.username,post:i.post,getdata:C,darkmode:n},"addcom"+i._id)})}),Object(l.jsx)("hr",{}),Object(l.jsx)(y.a,{children:Object(l.jsx)(S.a,{children:i.comments.map((function(e){return Object(l.jsx)(E,{username:e.username,date:e.date,comment:e.comment,darkmode:n},"com"+e._id)}))})})]}):Object(l.jsx)(T.a,{animation:"border"})})})]})},V=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),o=Object(r.a)(s,2),i=o[0],j=o[1],d=Object(c.useState)(!1),u=Object(r.a)(d,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(r.a)(m,2),p=x[0],O=x[1],v=function(){console.log("loggincheckrun"),h(!b)},y=function(){O(!p)},S=function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:5000/users/").then((function(e){n(e.data),console.log("fetch")}));case 3:e.sent,j(!0),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),localStorage.setItem("token",""),localStorage.setItem("user","");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){return!!a.some((function(e){return e.username==localStorage.getItem("user")}))};return Object(c.useEffect)((function(){localStorage.setItem("sub","Home"),S()}),[]),Object(l.jsx)("div",{className:p?"theme-dark":"bg-secondary",children:i?Object(l.jsx)("div",{children:Object(l.jsxs)(k.d,{children:[Object(l.jsx)(k.b,{path:"/thread/:id",render:function(){return w()?Object(l.jsx)(B,{check:v,theme:y,darkmode:p}):Object(l.jsx)(k.a,{to:"/"})}}),Object(l.jsx)(k.b,{path:"/UpdateUser",render:function(){return w()?Object(l.jsx)(z,{check:v,darkmode:p,theme:y}):Object(l.jsx)(k.a,{to:"/"})}}),Object(l.jsx)(k.b,{exact:!0,path:"/",render:function(){return w()?Object(l.jsx)(H,{check:v,theme:y,darkmode:p}):Object(l.jsx)(k.a,{to:"/SignUp"})}}),Object(l.jsx)(k.b,{path:"/SignUp",render:function(){return w()?Object(l.jsx)(k.a,{to:"/"}):Object(l.jsx)(F,{check:v})}}),Object(l.jsx)(k.b,{path:"/SignIn",render:function(){return w()?Object(l.jsx)(k.a,{to:"/"}):Object(l.jsx)(_,{check:v})}})]})}):Object(l.jsx)(T.a,{animation:"border"})})};var M=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)(d.a,{fluid:!0,className:"App p-0",children:Object(l.jsx)(V,{})})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};s.a.render(Object(l.jsx)(M,{}),document.getElementById("root")),Y()},18:function(e,t,a){},71:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.d9e26e48.chunk.js.map